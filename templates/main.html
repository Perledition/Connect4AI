<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Connect4AI</title>
    <style>
        * {
          box-sizing:border-box;
        }

        .game {
          overflow: hidden;
          display:inline-block;
          background: blue;
          box-shadow: 5px 5px #888888;
        }

        .game td, th {
            padding: 5px;
            width: 100px;
            height: 100px;
            position: relative;
            justify-content: center;
        }

        .game td .chipPlain {
            cursor: pointer;
        }

        .game td .chipP1 {
            cursor: not-allowed;
        }

        .game td .chipP2 {
            cursor: not-allowed;
        }

        .game th {
          background-color:#fff;
        }
        .game td:hover::after {
            background-color: red;

         }
        .game td .chipPlain:hover {
            background-color: #ff8080;
        }

        .chipPlain {
            width: 100px;
            height: 100px;
            border-radius: 50px;
            background: white;
            box-shadow: -5px -5px #888888;

        }

        .chipP1 {
            width: 100px;
            height: 100px;
            border-radius: 50px;
            background: red;
        }

        .chipP2 {
            width: 100px;
            height: 100px;
            border-radius: 50px;
            background: yellow;
        }

        body {
          margin:8em;
        }

        .replay {
            width: 100px;
            height: 50px;
            background: blue;
        }

        .blocker {
            background: #ccc;
            height: 200px;
            width: 200px;
            position: relative;
            justify-content: center;
            text-align: center;
        }
    </style>
</head>
<body>
    <div>
        <h1>Try to beat the AI</h1>
        <p>It might be easy at the beginning, but the more people play against it the harder it gets over the time so give it a try</p>
    </div>
    <h2 id="turn-indicator">YOUR TURN</h2>
    <div id="game-area">
        <table class="game" id="game-env">
            <tr>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
            </tr>
            <tr>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
            </tr>
            <tr>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
            </tr>
            <tr>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
            </tr>
            <tr>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
            </tr>
            <tr>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
            </tr>
            <tr>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
                <td><div class="chipPlain"></div></td>
            </tr>
        </table>
    </div>
    <script type="text/javascript">
        const cellElements = document.querySelectorAll('div.chipPlain');
        const rows = document.querySelectorAll('tr');
        const rowsArray = Array.from(rows);
        let currentRow;
        let currentCol;
        let turn = 0;
        let player = 'chipP1';

        const winPic = 'data:image/jpeg;base64,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';
        const losePic = 'https://i.chzbgr.com/full/1588379392/hA550B3B6/boo-beep-beep-bah-boop-means-fuck-you-in-robot';

        cellElements.forEach(cell => {
            cell.addEventListener('click', handleClick)
        })

        function handleClick(e) {

            // get the position of the cell clicked
            const rowIndex = rowsArray.findIndex(row => row.contains(e.target));
            const columnArray = Array.from(rowsArray[rowIndex].querySelectorAll('td div'));
            const columnIndex = columnArray.findIndex(column => column == e.target);

            checkColumn(rowIndex, columnIndex);
        }

        // check if selection is valid or if the chip has to fall deeper
        function checkColumn(row, column) {

            let rowToTake;

            // check how much rows the chip can fall before it can stay
            for (r=rowsArray.length-1; r>-1; r--) {
                const columnArray = Array.from(rowsArray[r].querySelectorAll('td div'));
                const className = columnArray[column].className;
                if (className === 'chipPlain') {
                    rowToTake = r;
                    break;
                }
            }

            // get the cell DOM element
            const cell = rowsArray[rowToTake].querySelectorAll('td div')[column];
            cell.classList.remove("chipPlain");
            cell.classList.add(player);
            updateTurn();


        }

        //updateTurn
        function updateTurn() {

            const turnIndicator = document.getElementById("turn-indicator");
            if (turn === 0) {
                turn = 1;
                player = 'chipP2';
                turnIndicator.innerHTML = 'TURN AI';
            }
            else {
                turn = 0;
                player = 'chipP1';
                turnIndicator.innerHTML = 'YOUR TURN';
            }

            winCheck();
        }

        // check if four of one color are in a column
        function verticalCheck(){


            const turnIndicator = document.getElementById("turn-indicator");

            // check each column for class count
            for (c=0; c<6; c++) {

                let runP1 = 0;
                let runP2 = 0;
                for (r=0; r<rowsArray.length; r++){
                   const cell = rowsArray[r].querySelectorAll('td div')[c];
                   if ((cell.className === 'chipP1') && (runP1 >= 0)) {
                    runP2 = 0;
                    runP1 = runP1 + 1;
                    if (runP1 === 4) {
                        turnIndicator.innerHTML = 'WIN';
                        blockTable();
                        break;
                    }
                   }
                   else if ((cell.className === 'chipP2') && (runP2 >= 0)) {
                    runP1 = 0;
                    runP2 = runP2 + 1;
                    if (runP2 === 4) {
                        turnIndicator.innerHTML = 'LOOSE';
                        blockTable(winner=1);
                        break;
                    }
                   }
                }
            }

        }

        // check if four of one color are in a row
        function horizontalCheck(){}

        // check if four of one color are in a diagonal
        function diagonalCheck(){}

        // blockTable
        function blockTable(winner=0) {

            const table = document.getElementById('game-env');
            table.style.display = 'none';

            const barrier = document.createElement('div');
            barrier.classList.add('blocker');

            // add button for offering a rematch
            const button = document.createElement('button');
            button.classList.add('replay');
            button.innerHTML = 'REMATCH';
            button.addEventListener('click', function() {
                location.reload();
            })


            const img = document.createElement('img');
            if (winner===0) {
                img.src = winPic;
            }
            else {
                img.src = losePic;
            }

            barrier.appendChild(img);
            barrier.appendChild(button);

            document.getElementById('game-area').appendChild(barrier);
        }

        // run all checks to estimate the current state
        function winCheck() {
            verticalCheck();
        }

    </script>
</body>
</html>